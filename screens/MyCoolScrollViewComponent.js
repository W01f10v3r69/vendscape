import React, { useState, useRef, useEffect } from "react";
import { ScrollView, Text } from 'react-native';



function MyCoolScrollViewComponent() {
  const isCloseToBottom = ({ layoutMeasurement, contentOffset, contentSize }) => {
    const paddingToBottom = 20;
    return layoutMeasurement.height + contentOffset.y >=
      contentSize.height - paddingToBottom;
  };
  const enableSomeButton = () => {
    setShow(show + "consequuntur iure odit cum dolore unde cumque fugit iusto porro harum eligendi voluptas praesentium nihil aliquam earum quo, corrupti suscipit inventore exercitationem necessitatibus odio. In et facilis recusandae, beatae atque excepturi velit itaque sed amet voluptates exercitationem facere. Recusandae sapiente vel exercitationem quae perspiciatis, ut odit minus distinctio! Ducimus illum fugit fuga error minus hic eaque ipsa sapiente corporis eius pariatur, quaerat magni in veritatis distinctio nemo debitis necessitatibus corrupti at, ab sit? Voluptate asperiores unde rem ab, dolores saepe non nam nihil architecto eos illum reprehenderit beatae porro excepturi quae commodi iusto nesciunt maiores sint ipsam corrupti dignissimos, vero ipsa! Qui veniam facilis dolores rem nemo vel sed illo hic nulla consectetur, magni alias reiciendis velit iste, iure praesentium ad, nam blanditiis repellat quidem quod tenetur esse quisquam laudantium. Vero eos rem sit nihil perferendis reiciendis enim quo repellat ex ut. Sequi expedita dolore placeat possimus esse! Recusandae voluptatibus, placeat necessitatibus deleniti nulla vel doloremque architecto! Fugit fugiat facere voluptatum debitis ad minus exercitationem fuga excepturi numquam nesciunt explicabo ducimus quis consequatur, officiis odit, vel neque tempora esse commodi assumenda error cum modi. Ducimus soluta blanditiis animi alias vero harum nesciunt, dignissimos necessitatibus culpa quidem optio recusandae ea veritatis molestiae qui aut perspiciatis quas deleniti vitae, consectetur aspernatur. Voluptatem id illo dolores veritatis expedita doloremque quas cumque necessitatibus tempore eaque eius beatae porro esse aliquam odit culpa, exercitationem quidem sit dolore eos modi quasi facere at! Deleniti cupiditate molestias ea provident numquam vero rem vel consectetur temporibus adipisci asperiores obcaecati nemo, blanditiis praesentium veniam possimus nulla? Doloremque expedita sequi vero minus unde obcaecati delectus perferendis.")
  };
  const [show, setShow] = useState("Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam molestias reiciendis incidunt fugit excepturi exercitationem non neque? Eveniet, labore. Hic aspernatur nisi minima eius minus odit qui vel earum quia? Provident, architecto sapiente, laboriosam suscipit vel voluptatibus sint omnis quibusdam iure sunt ullam corporis, quidem delectus eum quo obcaecati sed! Laborum aliquam nam alias cum, eos sint totam tempore ducimus, magnam a, temporibus aut id ipsa non molestiae! Aperiam totam doloribus enim! Expedita ut voluptate distinctio dolorum officiis. Odit ea reiciendis nostrum, velit porro quisquam eum? Officia corporis, eius alias quod in magni est necessitatibus veniam id hic vitae quae. Dolorum porro consectetur, illo ab quibusdam officiis debitis ratione doloribus laudantium assumenda error blanditiis soluta minus perspiciatis beatae, dolorem quae, ullam nam dicta! Aut sint quis deleniti autem neque culpa eveniet fuga repellendus distinctio dolores quibusdam, quod iure iusto! Deleniti laboriosam nulla, hic eum dignissimos doloremque possimus. Id maiores vitae, similique velit enim expedita eveniet, ipsam officiis nam a ex omnis adipisci sed nobis recusandae nemo? Id natus, deleniti et quibusdam, placeat possimus ullam repellendus facere quaerat sapiente officiis exercitationem officia neque iure! Debitis perspiciatis temporibus ea facilis doloremque voluptas assumenda quaerat beatae libero sapiente nostrum pariatur explicabo molestiae quae accusantium, nulla quasi exercitationem minima animi impedit quisquam dolor, eveniet vero. Vero consequatur porro, dolorum unde assumenda nostrum veniam harum dolore odit facilis cumque sunt hic modi tempore dolores! Aliquid alias laborum reprehenderit perspiciatis consequuntur iure odit cum dolore unde cumque fugit iusto porro harum eligendi voluptas praesentium nihil aliquam earum quo, corrupti suscipit inventore exercitationem necessitatibus odio. In et facilis recusandae, beatae atque excepturi velit itaque sed amet voluptates exercitationem facere. Recusandae sapiente vel exercitationem quae perspiciatis, ut odit minus distinctio! Ducimus illum fugit fuga error minus hic eaque ipsa sapiente corporis eius pariatur, quaerat magni in veritatis distinctio nemo debitis necessitatibus corrupti at, ab sit? Voluptate asperiores unde rem ab, dolores saepe non nam nihil architecto eos illum reprehenderit beatae porro excepturi quae commodi iusto nesciunt maiores sint ipsam corrupti dignissimos, vero ipsa! Qui veniam facilis dolores rem nemo vel sed illo hic nulla consectetur, magni alias reiciendis velit iste, iure praesentium ad, nam blanditiis repellat quidem quod tenetur esse quisquam laudantium. Vero eos rem sit nihil perferendis reiciendis enim quo repellat ex ut. Sequi expedita dolore placeat possimus esse! Recusandae voluptatibus, placeat necessitatibus deleniti nulla vel doloremque architecto! Fugit fugiat facere voluptatum debitis ad minus exercitationem fuga excepturi numquam nesciunt explicabo ducimus quis consequatur, officiis odit, vel neque tempora esse commodi assumenda error cum modi. Ducimus soluta blanditiis animi alias vero harum nesciunt, dignissimos necessitatibus culpa quidem optio recusandae ea veritatis molestiae qui aut perspiciatis quas deleniti vitae, consectetur aspernatur. Voluptatem id illo dolores veritatis expedita doloremque quas cumque necessitatibus tempore eaque eius beatae porro esse aliquam odit culpa, exercitationem quidem sit dolore eos modi quasi facere at! Deleniti cupiditate molestias ea provident numquam vero rem vel consectetur temporibus adipisci asperiores obcaecati nemo, blanditiis praesentium veniam possimus nulla? Doloremque expedita sequi vero minus unde obcaecati delectus perferendis.");
  return (
    <ScrollView
      onScroll={({ nativeEvent }) => {
        if (isCloseToBottom(nativeEvent)) {
          enableSomeButton();
        }
      }}
      scrollEventThrottle={400}
    >
      <Text>{show}</Text>
    </ScrollView>
  )
}

export default MyCoolScrollViewComponent;